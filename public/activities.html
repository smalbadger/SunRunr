<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	 <title>SunRunr - Account</title>

	 <!-- Import jQuery -->
	 <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	 <!-- Import Google Icon Font -->
	 <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	 <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <!-- Graphing lib -->
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

   <link href="stylesheets/sunrunr.css" rel="stylesheet">
	 <script src="javascripts/map.js"></script>
   <script src="javascripts/activities.js"></script>
	 <script src="javascripts/signout.js"></script>

	 <!-- Let browser know website is optimized for mobile -->
	 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <meta name="google-signin-client_id" content="646617972867-oh2rbgpqn26uhgr1mrb37mebo6infork.apps.googleusercontent.com">
  </head>

<body>
  <!-- Dropdown Structure -->
  <ul id='dropdown1' class='dropdown-content'>
    <li><a href="account.html">Account</a></li>
    <li class="divider"></li>
    <li><a href="#!" class="signout">Sign out</a></li>
  </ul>

  <nav>
    <div class="nav-wrapper blue-grey darken-2">
      <a href="dashboard.html" class="brand-logo left">
        <img id="logo" src="images/logo.png">
        <span id="name">SunRunr</span>
      </a>
      <a href="#" data-target="mobile-nav" class="sidenav-trigger right hide-on-large-only"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        <li><a href="dashboard.html">Dashboard</a></li>
        <li class="active"><a href="activities.html">Activities</a></li>
        <li><a href="nearbyusers.html">Nearby Users</a></li>
        <li><a href="allusers.html">All Users</a></li>
        <!-- Dropdown Trigger -->
        <li>
          <a class='dropdown-trigger btn' href='#' data-target='dropdown1'>
            <i class="material-icons">more_vert</i>
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <ul class="right sidenav blue-grey darken-2 hide-on-large-only" id="mobile-nav">
    <li><a href="dashboard.html">Dashboard</a></li>
    <li class="active"><a href="activities.html">Activities</a></li>
    <li><a href="nearbyusers.html">Nearby Users</a></li>
    <li><a href="allusers.html">All Users</a></li>
    <li><a href="account.html">Account</a></li>
    <li class="divider"></li>
    <li><a href="#!" class="signout">Sign out</a></li>
  </ul>

	<div id="main_">
    <div class="row" id="activities">
      <div class="col s12 activity-container activity-template" id="temp">
        <div class="row">
          <div class="col l2"></div>
          <div class="col s12 m12 l8">
            <div class="card blue-grey darken-1">
              <div class="card-title white-text row activity-header">
                <div class="col s6 m3 center-align" id="temp-date">12-09-2019</div>
                <div class="col s6 m3 center-align" id="temp-activity-type">
                  <a class='dropdown-trigger btn' href='#!' data-target='temp-activity-type-dropdown' id="temp-activity-type-selection">Biking</a>

                  <!-- Dropdown Structure -->
                  <ul id='temp-activity-type-dropdown' class='dropdown-content'>
                    <li><a href="#!" class="activity-type-select"><i class="material-icons">directions_walk</i>Walking</a></li>
                    <li><a href="#!" class="activity-type-select"><i class="material-icons">directions_run</i>Running</a></li>
                    <li><a href="#!" class="activity-type-select"><i class="material-icons">directions_bike</i>Biking</a></li>
                  </ul>
                </div>
                <!-- Dropdown Trigger -->

                <div class="col s6 m3 center-align" id="temp-activity-duration">97 minutes</div>
                <div class="col s6 m3 center-align" id="temp-btn-box">
                  <div class="btn blue-grey lighten-2 activity-dropdown-btn" id="temp-btn-more"><i class="material-icons">arrow_drop_down</i></div>
                  <div class="btn blue-grey lighten-2 activity-dropup-btn" id="temp-btn-less"><i class="material-icons">arrow_drop_up</i></div>
                </div>
              </div>
              <div class="card-action">
                <div class="row">
                  <div class="col s6 m3 l3 info-tab"><div class="info-btn btn blue-grey lighten-3 no-uppercase" id="temp-uv">UV: 987khW???</div></div>
                  <div class="col s6 m3 l3 info-tab"><div class="info-btn btn blue-grey lighten-3 no-uppercase" id="temp-temp">Temp: 97&deg</div></div>
                  <div class="col s6 m3 l3 info-tab"><div class="info-btn btn blue-grey lighten-3 no-uppercase" id="temp-humidity">12% Humidity</div></div>
                  <div class="col s6 m3 l3 info-tab"><div class="info-btn btn blue-grey lighten-3 no-uppercase" id="temp-calories">1204 Cals Burned</div></div>
                </div>
              </div>
              <div class="activity-content" id="temp-activity-content">
                <div class="card-tabs">
                  <ul class="tabs tabs-fixed-width">
                    <li class="tab"><a id="temp-mapBtn" href="#!">Map</a></li>
                    <li class="tab"><a id="temp-speedBtn" href="#!">Speed</a></li>
                    <li class="tab"><a id="temp-uvBtn" href="#!">UV Exposure</a></li>
                  </ul>
                </div>
                <div class="card-content">
                  <div class="map" id="temp-activity-map"></div>
                  <div class="graph" id="temp-speed-graph"></div>
                  <div class="graph" id="temp-uv-graph"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col l2"></div>
        </div>
      </div>
    </div>

	</div>
  </body>

  <!-- Initialize dropdown menu in materialize -->
  <script>
    $('.dropdown-trigger').dropdown();
    $(document).ready(function(){
      $('.sidenav').sidenav({
        menuWidth: 200,
        closeOnClick: true,
        edge: 'right',
      });
    });
  </script>

  <script>
    $(function() {
      // If there's no authToken stored, redirect user to
      // the sign-in page (which is userLogin.html)
      if (!window.localStorage.getItem("authToken")) {
        window.location.replace("userLogin.html");
      }
      else {
        $('.modal').modal();
        $('.dropdown-trigger').dropdown();
        $("#temp").hide();
        getActivities();
      }
    });

    function signOut() {
      var auth2 = gapi.auth2.getAuthInstance();
      auth2.signOut().then(function () {
        window.location = "userLogin.html"
        $('.signout').click(signOut);
      });
    }

    function onLoad(){
      gapi.load('auth2', function(){gapi.auth2.init()})
    }
  </script>

  <script src="https://apis.google.com/js/platform.js" async defer></script>

</html>
